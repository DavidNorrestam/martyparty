import"../chunks/DsnmJJEf.js";import{i as Et}from"../chunks/DhL1VCxM.js";import{c as Kt,o as Ct,s as Xe,g as Ut}from"../chunks/Ai-LNryd.js";import{ah as Jt,$ as R,ai as Xt,a2 as ee,aK as Yt,aU as Zt,aT as Wt,aS as en,p as de,ab as tn,_ as nn,f as $,c as X,a7 as Ae,a8 as qe,r as K,a as N,b as me,ba as Nt,a6 as ce,d as J,n as Le,g as I,ac as Fe,ae as Ye,m as xe,e as le,af as At,s as ae,t as Ze,a5 as ke,y as bt}from"../chunks/BdU2Qewh.js";import{p as j,r as Se,b as nt,s as Be,i as ne,a as sn,c as rn}from"../chunks/QrMPNVZ5.js";import{q as $e}from"../chunks/K8fGTgIc.js";import{s as on,g as xt}from"../chunks/IJSbyBPa.js";import{e as yt,i as St}from"../chunks/B0n3dYTo.js";import{c as st,b as an}from"../chunks/DVit7hfp.js";import{c as ze,B as Me}from"../chunks/DFPvdS-z.js";import{I as qt,a as wt,P as cn}from"../chunks/CHCgbo8w.js";import{r as _t,b as Lt,C as ln,a as un}from"../chunks/Dox1Eiq0.js";function fn(e,t,n){Jt(()=>{var i=R(()=>t(e,n?.())||{});if(n&&i?.update){var o=!1,s={};Xt(()=>{var r=n();ee(r),o&&Yt(s,r)&&(s=r,i.update(r))}),o=!0}if(i?.destroy)return()=>i.destroy()})}function dn(e){return function(...t){var n=t[0];return n.preventDefault(),e?.apply(this,t)}}const mn={id:"image-to-swedish",label:"Image → Swedish name",generateQuestions(e){return[...e].sort(()=>Math.random()-.5).map(n=>({...n,images:n.images||[],answer:n.swedishName}))},checkAnswer(e,t){return t.trim().toLowerCase()===e.swedishName.trim().toLowerCase()},getOptions(e,t){const n=e[t].answer,i=e.map(s=>s.answer),o=[n];for(;o.length<4&&i.length>o.length;){const s=i[Math.floor(Math.random()*i.length)];o.includes(s)||o.push(s)}return o.sort(()=>Math.random()-.5)}},gn={id:"swedish-to-latin",label:"Swedish name → Latin name",generateQuestions(e){return[...e].sort(()=>Math.random()-.5).map(n=>({...n,question:n.swedishName,answer:n.latinName}))},checkAnswer(e,t){return t.trim().toLowerCase()===e.latinName.trim().toLowerCase()},getOptions(e,t){const n=e[t].answer,i=e.map(s=>s.answer),o=[n];for(;o.length<4&&i.length>o.length;){const s=i[Math.floor(Math.random()*i.length)];o.includes(s)||o.push(s)}return o.sort(()=>Math.random()-.5)}},pn={id:"imageToNameFreetext",label:"Image to name (freetext)",generateQuestions:e=>[...e].sort(()=>Math.random()-.5).map(n=>({images:n.images||[],swedishName:n.swedishName||n.swedish||"",latinName:n.latinName||n.latin||"",answer:""})),checkAnswer:(e,t)=>{let n={};try{n=JSON.parse(t)}catch{return!1}const i=h=>h.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9 ]/gi,"").replace(/\s+/g," ").trim().toLowerCase(),o=e.swedishName||"",s=e.latinName||"",r=n.swedish||"",c=n.latin||"",a=i(r)===i(o),l=i(c)===i(s);return a&&l},getOptions:()=>[]},Je=[mn,gn,pn],We=Symbol("EMBLA_CAROUSEL_CONTEXT");function hn(e){return Zt(We,e),e}function Ve(e="This component"){if(!Wt(We))throw new Error(`${e} must be used within a <Carousel.Root> component`);return en(We)}var vn=$("<div><!></div>");function bn(e,t){de(t,!0);let n=j(t,"ref",15,null),i=j(t,"opts",19,()=>({})),o=j(t,"plugins",19,()=>[]),s=j(t,"setApi",3,()=>{}),r=j(t,"orientation",3,"horizontal"),c=Se(t,["$$slots","$$events","$$legacy","ref","opts","plugins","setApi","orientation","class","children"]),a=tn({api:void 0,scrollPrev:l,scrollNext:h,orientation:r(),canScrollNext:!1,canScrollPrev:!1,handleKeyDown:_,options:i(),plugins:o(),onInit:m,scrollSnaps:[],selectedIndex:0,scrollTo:f});hn(a);function l(){a.api?.scrollPrev()}function h(){a.api?.scrollNext()}function f(u,g){a.api?.scrollTo(u,g)}function d(){a.api&&(a.selectedIndex=a.api.selectedScrollSnap(),a.canScrollNext=a.api.canScrollNext(),a.canScrollPrev=a.api.canScrollPrev())}function _(u){u.key==="ArrowLeft"?(u.preventDefault(),l()):u.key==="ArrowRight"&&(u.preventDefault(),h())}function m(u){a.api=u.detail,s()(a.api),a.scrollSnaps=a.api.scrollSnapList(),a.api.on("select",d),d()}nn(()=>()=>{a.api?.off("select",d)});var p=vn();st(p,u=>({"data-slot":"carousel",class:u,role:"region","aria-roledescription":"carousel",...c}),[()=>ze("relative",t.class)]);var v=X(p);Ae(v,()=>t.children??qe),K(p),nt(p,u=>n(u),()=>n()),N(e,p),me()}function xn(e){return Object.prototype.toString.call(e)==="[object Object]"}function Tt(e){return xn(e)||Array.isArray(e)}function yn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function rt(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;const o=JSON.stringify(Object.keys(e.breakpoints||{})),s=JSON.stringify(Object.keys(t.breakpoints||{}));return o!==s?!1:n.every(r=>{const c=e[r],a=t[r];return typeof c=="function"?`${c}`==`${a}`:!Tt(c)||!Tt(a)?c===a:rt(c,a)})}function Pt(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function Sn(e,t){if(e.length!==t.length)return!1;const n=Pt(e),i=Pt(t);return n.every((o,s)=>{const r=i[s];return rt(o,r)})}function ot(e){return typeof e=="number"}function et(e){return typeof e=="string"}function He(e){return typeof e=="boolean"}function It(e){return Object.prototype.toString.call(e)==="[object Object]"}function D(e){return Math.abs(e)}function it(e){return Math.sign(e)}function Ie(e,t){return D(e-t)}function wn(e,t){if(e===0||t===0||D(e)<=D(t))return 0;const n=Ie(D(e),D(t));return D(n/e)}function _n(e){return Math.round(e*100)/100}function Ee(e){return Ce(e).map(Number)}function se(e){return e[Oe(e)]}function Oe(e){return Math.max(0,e.length-1)}function at(e,t){return t===Oe(e)}function Mt(e,t=0){return Array.from(Array(e),(n,i)=>t+i)}function Ce(e){return Object.keys(e)}function zt(e,t){return[e,t].reduce((n,i)=>(Ce(i).forEach(o=>{const s=n[o],r=i[o],c=It(s)&&It(r);n[o]=c?zt(s,r):r}),n),{})}function tt(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function Ln(e,t){const n={start:i,center:o,end:s};function i(){return 0}function o(a){return s(a)/2}function s(a){return t-a}function r(a,l){return et(e)?n[e](a):e(t,a,l)}return{measure:r}}function Ne(){let e=[];function t(o,s,r,c={passive:!0}){let a;if("addEventListener"in o)o.addEventListener(s,r,c),a=()=>o.removeEventListener(s,r,c);else{const l=o;l.addListener(r),a=()=>l.removeListener(r)}return e.push(a),i}function n(){e=e.filter(o=>o())}const i={add:t,clear:n};return i}function Tn(e,t,n,i){const o=Ne(),s=1e3/60;let r=null,c=0,a=0;function l(){o.add(e,"visibilitychange",()=>{e.hidden&&m()})}function h(){_(),o.clear()}function f(v){if(!a)return;r||(r=v,n(),n());const u=v-r;for(r=v,c+=u;c>=s;)n(),c-=s;const g=c/s;i(g),a&&(a=t.requestAnimationFrame(f))}function d(){a||(a=t.requestAnimationFrame(f))}function _(){t.cancelAnimationFrame(a),r=null,c=0,a=0}function m(){r=null,c=0}return{init:l,destroy:h,start:d,stop:_,update:n,render:i}}function Pn(e,t){const n=t==="rtl",i=e==="y",o=i?"y":"x",s=i?"x":"y",r=!i&&n?-1:1,c=h(),a=f();function l(m){const{height:p,width:v}=m;return i?p:v}function h(){return i?"top":n?"right":"left"}function f(){return i?"bottom":n?"left":"right"}function d(m){return m*r}return{scroll:o,cross:s,startEdge:c,endEdge:a,measureSize:l,direction:d}}function ye(e=0,t=0){const n=D(e-t);function i(l){return l<e}function o(l){return l>t}function s(l){return i(l)||o(l)}function r(l){return s(l)?i(l)?e:t:l}function c(l){return n?l-n*Math.ceil((l-t)/n):l}return{length:n,max:t,min:e,constrain:r,reachedAny:s,reachedMax:o,reachedMin:i,removeOffset:c}}function Ot(e,t,n){const{constrain:i}=ye(0,e),o=e+1;let s=r(t);function r(d){return n?D((o+d)%o):i(d)}function c(){return s}function a(d){return s=r(d),f}function l(d){return h().set(c()+d)}function h(){return Ot(e,c(),n)}const f={get:c,set:a,add:l,clone:h};return f}function In(e,t,n,i,o,s,r,c,a,l,h,f,d,_,m,p,v,u,g){const{cross:y,direction:E}=e,b=["INPUT","SELECT","TEXTAREA"],L={passive:!1},S=Ne(),P=Ne(),M=ye(50,225).constrain(_.measure(20)),x={mouse:300,touch:400},w={mouse:500,touch:600},C=m?43:25;let A=!1,q=0,k=0,V=!1,Z=!1,U=!1,Y=!1;function ge(T){if(!g)return;function z(G){(He(g)||g(T,G))&&we(G)}const F=t;S.add(F,"dragstart",G=>G.preventDefault(),L).add(F,"touchmove",()=>{},L).add(F,"touchend",()=>{}).add(F,"touchstart",z).add(F,"mousedown",z).add(F,"touchcancel",Q).add(F,"contextmenu",Q).add(F,"click",ue,!0)}function B(){S.clear(),P.clear()}function re(){const T=Y?n:t;P.add(T,"touchmove",H,L).add(T,"touchend",Q).add(T,"mousemove",H,L).add(T,"mouseup",Q)}function oe(T){const z=T.nodeName||"";return b.includes(z)}function te(){return(m?w:x)[Y?"mouse":"touch"]}function he(T,z){const F=f.add(it(T)*-1),G=h.byDistance(T,!m).distance;return m||D(T)<M?G:v&&z?G*.5:h.byIndex(F.get(),0).distance}function we(T){const z=tt(T,i);Y=z,U=m&&z&&!T.buttons&&A,A=Ie(o.get(),r.get())>=2,!(z&&T.button!==0)&&(oe(T.target)||(V=!0,s.pointerDown(T),l.useFriction(0).useDuration(0),o.set(r),re(),q=s.readPoint(T),k=s.readPoint(T,y),d.emit("pointerDown")))}function H(T){if(!tt(T,i)&&T.touches.length>=2)return Q(T);const F=s.readPoint(T),G=s.readPoint(T,y),ie=Ie(F,q),fe=Ie(G,k);if(!Z&&!Y&&(!T.cancelable||(Z=ie>fe,!Z)))return Q(T);const ve=s.pointerMove(T);ie>p&&(U=!0),l.useFriction(.3).useDuration(.75),c.start(),o.add(E(ve)),T.preventDefault()}function Q(T){const F=h.byDistance(0,!1).index!==f.get(),G=s.pointerUp(T)*te(),ie=he(E(G),F),fe=wn(G,ie),ve=C-10*fe,pe=u+fe/50;Z=!1,V=!1,P.clear(),l.useDuration(ve).useFriction(pe),a.distance(ie,!m),Y=!1,d.emit("pointerUp")}function ue(T){U&&(T.stopPropagation(),T.preventDefault(),U=!1)}function W(){return V}return{init:ge,destroy:B,pointerDown:W}}function Mn(e,t){let i,o;function s(f){return f.timeStamp}function r(f,d){const m=`client${(d||e.scroll)==="x"?"X":"Y"}`;return(tt(f,t)?f:f.touches[0])[m]}function c(f){return i=f,o=f,r(f)}function a(f){const d=r(f)-r(o),_=s(f)-s(i)>170;return o=f,_&&(i=f),d}function l(f){if(!i||!o)return 0;const d=r(o)-r(i),_=s(f)-s(i),m=s(f)-s(o)>170,p=d/_;return _&&!m&&D(p)>.1?p:0}return{pointerDown:c,pointerMove:a,pointerUp:l,readPoint:r}}function En(){function e(n){const{offsetTop:i,offsetLeft:o,offsetWidth:s,offsetHeight:r}=n;return{top:i,right:o+s,bottom:i+r,left:o,width:s,height:r}}return{measure:e}}function Cn(e){function t(i){return e*(i/100)}return{measure:t}}function Nn(e,t,n,i,o,s,r){const c=[e].concat(i);let a,l,h=[],f=!1;function d(v){return o.measureSize(r.measure(v))}function _(v){if(!s)return;l=d(e),h=i.map(d);function u(g){for(const y of g){if(f)return;const E=y.target===e,b=i.indexOf(y.target),L=E?l:h[b],S=d(E?e:i[b]);if(D(S-L)>=.5){v.reInit(),t.emit("resize");break}}}a=new ResizeObserver(g=>{(He(s)||s(v,g))&&u(g)}),n.requestAnimationFrame(()=>{c.forEach(g=>a.observe(g))})}function m(){f=!0,a&&a.disconnect()}return{init:_,destroy:m}}function An(e,t,n,i,o,s){let r=0,c=0,a=o,l=s,h=e.get(),f=0;function d(){const L=i.get()-e.get(),S=!a;let P=0;return S?(r=0,n.set(i),e.set(i),P=L):(n.set(e),r+=L/a,r*=l,h+=r,e.add(r),P=h-f),c=it(P),f=h,b}function _(){const L=i.get()-t.get();return D(L)<.001}function m(){return a}function p(){return c}function v(){return r}function u(){return y(o)}function g(){return E(s)}function y(L){return a=L,b}function E(L){return l=L,b}const b={direction:p,duration:m,velocity:v,seek:d,settled:_,useBaseFriction:g,useBaseDuration:u,useFriction:E,useDuration:y};return b}function qn(e,t,n,i,o){const s=o.measure(10),r=o.measure(50),c=ye(.1,.99);let a=!1;function l(){return!(a||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function h(_){if(!l())return;const m=e.reachedMin(t.get())?"min":"max",p=D(e[m]-t.get()),v=n.get()-t.get(),u=c.constrain(p/r);n.subtract(v*u),!_&&D(v)<s&&(n.set(e.constrain(n.get())),i.useDuration(25).useBaseFriction())}function f(_){a=!_}return{shouldConstrain:l,constrain:h,toggleActive:f}}function zn(e,t,n,i,o){const s=ye(-t+e,0),r=f(),c=h(),a=d();function l(m,p){return Ie(m,p)<=1}function h(){const m=r[0],p=se(r),v=r.lastIndexOf(m),u=r.indexOf(p)+1;return ye(v,u)}function f(){return n.map((m,p)=>{const{min:v,max:u}=s,g=s.constrain(m),y=!p,E=at(n,p);return y?u:E||l(v,g)?v:l(u,g)?u:g}).map(m=>parseFloat(m.toFixed(3)))}function d(){if(t<=e+o)return[s.max];if(i==="keepSnaps")return r;const{min:m,max:p}=c;return r.slice(m,p)}return{snapsContained:a,scrollContainLimit:c}}function On(e,t,n){const i=t[0],o=n?i-e:se(t);return{limit:ye(o,i)}}function Dn(e,t,n,i){const s=t.min+.1,r=t.max+.1,{reachedMin:c,reachedMax:a}=ye(s,r);function l(d){return d===1?a(n.get()):d===-1?c(n.get()):!1}function h(d){if(!l(d))return;const _=e*(d*-1);i.forEach(m=>m.add(_))}return{loop:h}}function $n(e){const{max:t,length:n}=e;function i(s){const r=s-t;return n?r/-n:0}return{get:i}}function kn(e,t,n,i,o){const{startEdge:s,endEdge:r}=e,{groupSlides:c}=o,a=f().map(t.measure),l=d(),h=_();function f(){return c(i).map(p=>se(p)[r]-p[0][s]).map(D)}function d(){return i.map(p=>n[s]-p[s]).map(p=>-D(p))}function _(){return c(l).map(p=>p[0]).map((p,v)=>p+a[v])}return{snaps:l,snapsAligned:h}}function Fn(e,t,n,i,o,s){const{groupSlides:r}=o,{min:c,max:a}=i,l=h();function h(){const d=r(s),_=!e||t==="keepSnaps";return n.length===1?[s]:_?d:d.slice(c,a).map((m,p,v)=>{const u=!p,g=at(v,p);if(u){const y=se(v[0])+1;return Mt(y)}if(g){const y=Oe(s)-se(v)[0]+1;return Mt(y,se(v)[0])}return m})}return{slideRegistry:l}}function jn(e,t,n,i,o){const{reachedAny:s,removeOffset:r,constrain:c}=i;function a(m){return m.concat().sort((p,v)=>D(p)-D(v))[0]}function l(m){const p=e?r(m):c(m),v=t.map((g,y)=>({diff:h(g-p,0),index:y})).sort((g,y)=>D(g.diff)-D(y.diff)),{index:u}=v[0];return{index:u,distance:p}}function h(m,p){const v=[m,m+n,m-n];if(!e)return m;if(!p)return a(v);const u=v.filter(g=>it(g)===p);return u.length?a(u):se(v)-n}function f(m,p){const v=t[m]-o.get(),u=h(v,p);return{index:m,distance:u}}function d(m,p){const v=o.get()+m,{index:u,distance:g}=l(v),y=!e&&s(v);if(!p||y)return{index:u,distance:m};const E=t[u]-g,b=m+h(E,0);return{index:u,distance:b}}return{byDistance:d,byIndex:f,shortcut:h}}function Bn(e,t,n,i,o,s,r){function c(f){const d=f.distance,_=f.index!==t.get();s.add(d),d&&(i.duration()?e.start():(e.update(),e.render(1),e.update())),_&&(n.set(t.get()),t.set(f.index),r.emit("select"))}function a(f,d){const _=o.byDistance(f,d);c(_)}function l(f,d){const _=t.clone().set(f),m=o.byIndex(_.get(),d);c(m)}return{distance:a,index:l}}function Vn(e,t,n,i,o,s,r,c){const a={passive:!0,capture:!0};let l=0;function h(_){if(!c)return;function m(p){if(new Date().getTime()-l>10)return;r.emit("slideFocusStart"),e.scrollLeft=0;const g=n.findIndex(y=>y.includes(p));ot(g)&&(o.useDuration(0),i.index(g,0),r.emit("slideFocus"))}s.add(document,"keydown",f,!1),t.forEach((p,v)=>{s.add(p,"focus",u=>{(He(c)||c(_,u))&&m(v)},a)})}function f(_){_.code==="Tab"&&(l=new Date().getTime())}return{init:h}}function Pe(e){let t=e;function n(){return t}function i(a){t=r(a)}function o(a){t+=r(a)}function s(a){t-=r(a)}function r(a){return ot(a)?a:a.get()}return{get:n,set:i,add:o,subtract:s}}function Dt(e,t){const n=e.scroll==="x"?r:c,i=t.style;let o=null,s=!1;function r(d){return`translate3d(${d}px,0px,0px)`}function c(d){return`translate3d(0px,${d}px,0px)`}function a(d){if(s)return;const _=_n(e.direction(d));_!==o&&(i.transform=n(_),o=_)}function l(d){s=!d}function h(){s||(i.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:h,to:a,toggleActive:l}}function Hn(e,t,n,i,o,s,r,c,a){const h=Ee(o),f=Ee(o).reverse(),d=u().concat(g());function _(S,P){return S.reduce((M,x)=>M-o[x],P)}function m(S,P){return S.reduce((M,x)=>_(M,P)>0?M.concat([x]):M,[])}function p(S){return s.map((P,M)=>({start:P-i[M]+.5+S,end:P+t-.5+S}))}function v(S,P,M){const x=p(P);return S.map(w=>{const C=M?0:-n,A=M?n:0,q=M?"end":"start",k=x[w][q];return{index:w,loopPoint:k,slideLocation:Pe(-1),translate:Dt(e,a[w]),target:()=>c.get()>k?C:A}})}function u(){const S=r[0],P=m(f,S);return v(P,n,!1)}function g(){const S=t-r[0]-1,P=m(h,S);return v(P,-n,!0)}function y(){return d.every(({index:S})=>{const P=h.filter(M=>M!==S);return _(P,t)<=.1})}function E(){d.forEach(S=>{const{target:P,translate:M,slideLocation:x}=S,w=P();w!==x.get()&&(M.to(w),x.set(w))})}function b(){d.forEach(S=>S.translate.clear())}return{canLoop:y,clear:b,loop:E,loopPoints:d}}function Qn(e,t,n){let i,o=!1;function s(a){if(!n)return;function l(h){for(const f of h)if(f.type==="childList"){a.reInit(),t.emit("slidesChanged");break}}i=new MutationObserver(h=>{o||(He(n)||n(a,h))&&l(h)}),i.observe(e,{childList:!0})}function r(){i&&i.disconnect(),o=!0}return{init:s,destroy:r}}function Gn(e,t,n,i){const o={};let s=null,r=null,c,a=!1;function l(){c=new IntersectionObserver(m=>{a||(m.forEach(p=>{const v=t.indexOf(p.target);o[v]=p}),s=null,r=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:i}),t.forEach(m=>c.observe(m))}function h(){c&&c.disconnect(),a=!0}function f(m){return Ce(o).reduce((p,v)=>{const u=parseInt(v),{isIntersecting:g}=o[u];return(m&&g||!m&&!g)&&p.push(u),p},[])}function d(m=!0){if(m&&s)return s;if(!m&&r)return r;const p=f(m);return m&&(s=p),m||(r=p),p}return{init:l,destroy:h,get:d}}function Rn(e,t,n,i,o,s){const{measureSize:r,startEdge:c,endEdge:a}=e,l=n[0]&&o,h=m(),f=p(),d=n.map(r),_=v();function m(){if(!l)return 0;const g=n[0];return D(t[c]-g[c])}function p(){if(!l)return 0;const g=s.getComputedStyle(se(i));return parseFloat(g.getPropertyValue(`margin-${a}`))}function v(){return n.map((g,y,E)=>{const b=!y,L=at(E,y);return b?d[y]+h:L?d[y]+f:E[y+1][c]-g[c]}).map(D)}return{slideSizes:d,slideSizesWithGaps:_,startGap:h,endGap:f}}function Kn(e,t,n,i,o,s,r,c,a){const{startEdge:l,endEdge:h,direction:f}=e,d=ot(n);function _(u,g){return Ee(u).filter(y=>y%g===0).map(y=>u.slice(y,y+g))}function m(u){return u.length?Ee(u).reduce((g,y,E)=>{const b=se(g)||0,L=b===0,S=y===Oe(u),P=o[l]-s[b][l],M=o[l]-s[y][h],x=!i&&L?f(r):0,w=!i&&S?f(c):0,C=D(M-w-(P+x));return E&&C>t+a&&g.push(y),S&&g.push(u.length),g},[]).map((g,y,E)=>{const b=Math.max(E[y-1]||0);return u.slice(b,g)}):[]}function p(u){return d?_(u,n):m(u)}return{groupSlides:p}}function Un(e,t,n,i,o,s,r){const{align:c,axis:a,direction:l,startIndex:h,loop:f,duration:d,dragFree:_,dragThreshold:m,inViewThreshold:p,slidesToScroll:v,skipSnaps:u,containScroll:g,watchResize:y,watchSlides:E,watchDrag:b,watchFocus:L}=s,S=2,P=En(),M=P.measure(t),x=n.map(P.measure),w=Pn(a,l),C=w.measureSize(M),A=Cn(C),q=Ln(c,C),k=!f&&!!g,V=f||!!g,{slideSizes:Z,slideSizesWithGaps:U,startGap:Y,endGap:ge}=Rn(w,M,x,n,V,o),B=Kn(w,C,v,f,M,x,Y,ge,S),{snaps:re,snapsAligned:oe}=kn(w,q,M,x,B),te=-se(re)+se(U),{snapsContained:he,scrollContainLimit:we}=zn(C,te,oe,g,S),H=k?he:oe,{limit:Q}=On(te,H,f),ue=Ot(Oe(H),h,f),W=ue.clone(),O=Ee(n),T=({dragHandler:_e,scrollBody:Ke,scrollBounds:Ue,options:{loop:De}})=>{De||Ue.constrain(_e.pointerDown()),Ke.seek()},z=({scrollBody:_e,translate:Ke,location:Ue,offsetLocation:De,previousLocation:Ft,scrollLooper:jt,slideLooper:Bt,dragHandler:Vt,animation:Ht,eventHandler:dt,scrollBounds:Qt,options:{loop:mt}},gt)=>{const pt=_e.settled(),Gt=!Qt.shouldConstrain(),ht=mt?pt:pt&&Gt,vt=ht&&!Vt.pointerDown();vt&&Ht.stop();const Rt=Ue.get()*gt+Ft.get()*(1-gt);De.set(Rt),mt&&(jt.loop(_e.direction()),Bt.loop()),Ke.to(De.get()),vt&&dt.emit("settle"),ht||dt.emit("scroll")},F=Tn(i,o,()=>T(Re),_e=>z(Re,_e)),G=.68,ie=H[ue.get()],fe=Pe(ie),ve=Pe(ie),pe=Pe(ie),be=Pe(ie),Te=An(fe,pe,ve,be,d,G),Qe=jn(f,H,te,Q,be),Ge=Bn(F,ue,W,Te,Qe,be,r),lt=$n(Q),ut=Ne(),$t=Gn(t,n,r,p),{slideRegistry:ft}=Fn(k,g,H,we,B,O),kt=Vn(e,n,ft,Ge,Te,ut,r,L),Re={ownerDocument:i,ownerWindow:o,eventHandler:r,containerRect:M,slideRects:x,animation:F,axis:w,dragHandler:In(w,e,i,o,be,Mn(w,o),fe,F,Ge,Te,Qe,ue,r,A,_,m,u,G,b),eventStore:ut,percentOfView:A,index:ue,indexPrevious:W,limit:Q,location:fe,offsetLocation:pe,previousLocation:ve,options:s,resizeHandler:Nn(t,r,o,n,w,y,P),scrollBody:Te,scrollBounds:qn(Q,pe,be,Te,A),scrollLooper:Dn(te,Q,pe,[fe,pe,ve,be]),scrollProgress:lt,scrollSnapList:H.map(lt.get),scrollSnaps:H,scrollTarget:Qe,scrollTo:Ge,slideLooper:Hn(w,C,te,Z,U,re,H,pe,n),slideFocus:kt,slidesHandler:Qn(t,r,E),slidesInView:$t,slideIndexes:O,slideRegistry:ft,slidesToScroll:B,target:be,translate:Dt(w,t)};return Re}function Jn(){let e={},t;function n(l){t=l}function i(l){return e[l]||[]}function o(l){return i(l).forEach(h=>h(t,l)),a}function s(l,h){return e[l]=i(l).concat([h]),a}function r(l,h){return e[l]=i(l).filter(f=>f!==h),a}function c(){e={}}const a={init:n,emit:o,off:r,on:s,clear:c};return a}const Xn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Yn(e){function t(s,r){return zt(s,r||{})}function n(s){const r=s.breakpoints||{},c=Ce(r).filter(a=>e.matchMedia(a).matches).map(a=>r[a]).reduce((a,l)=>t(a,l),{});return t(s,c)}function i(s){return s.map(r=>Ce(r.breakpoints||{})).reduce((r,c)=>r.concat(c),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:i}}function Zn(e){let t=[];function n(s,r){return t=r.filter(({options:c})=>e.optionsAtMedia(c).active!==!1),t.forEach(c=>c.init(s,e)),r.reduce((c,a)=>Object.assign(c,{[a.name]:a}),{})}function i(){t=t.filter(s=>s.destroy())}return{init:n,destroy:i}}function je(e,t,n){const i=e.ownerDocument,o=i.defaultView,s=Yn(o),r=Zn(s),c=Ne(),a=Jn(),{mergeOptions:l,optionsAtMedia:h,optionsMediaQueries:f}=s,{on:d,off:_,emit:m}=a,p=w;let v=!1,u,g=l(Xn,je.globalOptions),y=l(g),E=[],b,L,S;function P(){const{container:O,slides:T}=y;L=(et(O)?e.querySelector(O):O)||e.children[0];const F=et(T)?L.querySelectorAll(T):T;S=[].slice.call(F||L.children)}function M(O){const T=Un(e,L,S,i,o,O,a);if(O.loop&&!T.slideLooper.canLoop()){const z=Object.assign({},O,{loop:!1});return M(z)}return T}function x(O,T){v||(g=l(g,O),y=h(g),E=T||E,P(),u=M(y),f([g,...E.map(({options:z})=>z)]).forEach(z=>c.add(z,"change",w)),y.active&&(u.translate.to(u.location.get()),u.animation.init(),u.slidesInView.init(),u.slideFocus.init(W),u.eventHandler.init(W),u.resizeHandler.init(W),u.slidesHandler.init(W),u.options.loop&&u.slideLooper.loop(),L.offsetParent&&S.length&&u.dragHandler.init(W),b=r.init(W,E)))}function w(O,T){const z=B();C(),x(l({startIndex:z},O),T),a.emit("reInit")}function C(){u.dragHandler.destroy(),u.eventStore.clear(),u.translate.clear(),u.slideLooper.clear(),u.resizeHandler.destroy(),u.slidesHandler.destroy(),u.slidesInView.destroy(),u.animation.destroy(),r.destroy(),c.clear()}function A(){v||(v=!0,c.clear(),C(),a.emit("destroy"),a.clear())}function q(O,T,z){!y.active||v||(u.scrollBody.useBaseFriction().useDuration(T===!0?0:y.duration),u.scrollTo.index(O,z||0))}function k(O){const T=u.index.add(1).get();q(T,O,-1)}function V(O){const T=u.index.add(-1).get();q(T,O,1)}function Z(){return u.index.add(1).get()!==B()}function U(){return u.index.add(-1).get()!==B()}function Y(){return u.scrollSnapList}function ge(){return u.scrollProgress.get(u.offsetLocation.get())}function B(){return u.index.get()}function re(){return u.indexPrevious.get()}function oe(){return u.slidesInView.get()}function te(){return u.slidesInView.get(!1)}function he(){return b}function we(){return u}function H(){return e}function Q(){return L}function ue(){return S}const W={canScrollNext:Z,canScrollPrev:U,containerNode:Q,internalEngine:we,destroy:A,off:_,on:d,emit:m,plugins:he,previousScrollSnap:re,reInit:p,rootNode:H,scrollNext:k,scrollPrev:V,scrollProgress:ge,scrollSnapList:Y,scrollTo:q,selectedScrollSnap:B,slideNodes:ue,slidesInView:oe,slidesNotInView:te};return x(t,n),setTimeout(()=>a.emit("init"),0),W}je.globalOptions=void 0;function ct(e,t={options:{},plugins:[]}){let n=t,i;return yn()&&(je.globalOptions=ct.globalOptions,i=je(e,n.options,n.plugins),i.on("init",()=>e.dispatchEvent(new CustomEvent("emblaInit",{detail:i})))),{destroy:()=>{i&&i.destroy()},update:o=>{const s=!rt(n.options,o.options),r=!Sn(n.plugins,o.plugins);!s&&!r||(n=o,i&&i.reInit(n.options,n.plugins))}}}ct.globalOptions=void 0;var Wn=$('<div data-slot="carousel-content" class="overflow-hidden"><div><!></div></div>');function es(e,t){de(t,!0);let n=j(t,"ref",15,null),i=Se(t,["$$slots","$$events","$$legacy","ref","class","children"]);const o=Ve("<Carousel.Content/>");var s=Wn(),r=X(s);st(r,a=>({class:a,"data-embla-container":"",...i}),[()=>ze("flex",o.orientation==="horizontal"?"-ml-4":"-mt-4 flex-col",t.class)]);var c=X(r);Ae(c,()=>t.children??qe),K(r),nt(r,a=>n(a),()=>n()),K(s),fn(s,(a,l)=>ct?.(a,l),()=>({options:{container:"[data-embla-container]",slides:"[data-embla-slide]",...o.options,axis:o.orientation==="horizontal"?"x":"y"},plugins:o.plugins})),Nt("emblaInit",s,function(...a){o.onInit?.apply(this,a)}),N(e,s),me()}var ts=$("<div><!></div>");function ns(e,t){de(t,!0);let n=j(t,"ref",15,null),i=Se(t,["$$slots","$$events","$$legacy","ref","class","children"]);const o=Ve("<Carousel.Item/>");var s=ts();st(s,c=>({"data-slot":"carousel-item",role:"group","aria-roledescription":"slide",class:c,"data-embla-slide":"",...i}),[()=>ze("min-w-0 shrink-0 grow-0 basis-full",o.orientation==="horizontal"?"pl-4":"pt-4",t.class)]);var r=X(s);Ae(r,()=>t.children??qe),K(s),nt(s,c=>n(c),()=>n()),N(e,s),me()}function ss(e,t){de(t,!0);/**
 * @license @lucide/svelte v0.515.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Se(t,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];qt(e,Be({name:"arrow-left"},()=>n,{get iconNode(){return i},children:(o,s)=>{var r=ce(),c=J(r);Ae(c,()=>t.children??qe),N(o,r)},$$slots:{default:!0}})),me()}var rs=$('<!> <span class="sr-only">Previous slide</span>',1);function os(e,t){de(t,!0);let n=j(t,"ref",15,null),i=j(t,"variant",3,"outline"),o=j(t,"size",3,"icon"),s=Se(t,["$$slots","$$events","$$legacy","ref","class","variant","size"]);const r=Ve("<Carousel.Previous/>");{let c=Fe(()=>!r.canScrollPrev),a=Fe(()=>ze("absolute size-8 rounded-full",r.orientation==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t.class));Me(e,Be({"data-slot":"carousel-previous",get variant(){return i()},get size(){return o()},get"aria-disabled"(){return I(c)},get class(){return I(a)},get onclick(){return r.scrollPrev},get onkeydown(){return r.handleKeyDown}},()=>s,{get ref(){return n()},set ref(l){n(l)},children:(l,h)=>{var f=rs(),d=J(f);ss(d,{class:"size-4"}),Le(2),N(l,f)},$$slots:{default:!0}}))}me()}function is(e,t){de(t,!0);/**
 * @license @lucide/svelte v0.515.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Se(t,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];qt(e,Be({name:"arrow-right"},()=>n,{get iconNode(){return i},children:(o,s)=>{var r=ce(),c=J(r);Ae(c,()=>t.children??qe),N(o,r)},$$slots:{default:!0}})),me()}var as=$('<!> <span class="sr-only">Next slide</span>',1);function cs(e,t){de(t,!0);let n=j(t,"ref",15,null),i=j(t,"variant",3,"outline"),o=j(t,"size",3,"icon"),s=Se(t,["$$slots","$$events","$$legacy","ref","class","variant","size"]);const r=Ve("<Carousel.Next/>");{let c=Fe(()=>!r.canScrollNext),a=Fe(()=>ze("absolute size-8 rounded-full",r.orientation==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t.class));Me(e,Be({"data-slot":"carousel-next",get variant(){return i()},get size(){return o()},get"aria-disabled"(){return I(c)},get class(){return I(a)},get onclick(){return r.scrollNext},get onkeydown(){return r.handleKeyDown}},()=>s,{get ref(){return n()},set ref(l){n(l)},children:(l,h)=>{var f=as(),d=J(f);is(d,{class:"size-4"}),Le(2),N(l,f)},$$slots:{default:!0}}))}me()}var ls=$('<img alt="Växtbild" class="quiz-carousel-image svelte-11qjbgp"/>'),us=$("<!> <!> <!>",1),fs=$('<div class="quiz-carousel-wrapper svelte-11qjbgp"><!></div>'),ds=$('<div class="quiz-image-placeholder svelte-11qjbgp"><span class="svelte-11qjbgp">Laddar bild...</span></div>'),ms=$('<h3 class="svelte-11qjbgp">Vad är det svenska namnet för växten på bilden?</h3>'),gs=$('<h3 class="svelte-11qjbgp">Vad är det latinska namnet för <span> </span>?</h3>'),ps=$('<h3 class="svelte-11qjbgp">Vad heter växten på bilderna? <span class="quiz-question-desc svelte-11qjbgp">Ange både svenska och latinska namnet.</span></h3>'),hs=$('<div class="answer-grid svelte-11qjbgp"></div>'),vs=$('<form class="freetext-form svelte-11qjbgp"><!> <!> <!></form>'),bs=$('<div class="quiz-question svelte-11qjbgp"><!> <!> <div class="quiz-divider svelte-11qjbgp"></div> <!></div>');function xs(e,t){de(t,!1);let n=j(t,"question",8),i=j(t,"options",8),o=j(t,"mode",8),s=j(t,"loadingImages",8,!1);const r=Kt();let c=xe(""),a=xe("");function l(b){r("answer",b)}function h(b){b.preventDefault(),r("answer",JSON.stringify({swedish:I(c),latin:I(a)})),le(c,""),le(a,""),setTimeout(()=>{document.querySelector(".freetext-input.swedish")?.focus()},0)}Ct(()=>{o()?.id==="imageToNameFreetext"&&document.querySelector(".freetext-input.swedish")?.focus()});let f=xe("");Ye(()=>(ee(o()),ee(n()),I(f)),()=>{const b=o()?.id==="imageToNameFreetext"&&n()?`${n().swedishName}|${n().latinName}`:"";b&&b!==I(f)&&(le(f,b),setTimeout(()=>{document.querySelector(".freetext-input.swedish")?.focus()},0))}),At(),Et();var d=bs(),_=X(d);{var m=b=>{var L=ce(),S=J(L);{var P=x=>{var w=fs(),C=X(w);bn(C,{opts:{align:"center",loop:!0},children:(A,q)=>{var k=us(),V=J(k);es(V,{class:"-ml-4",children:(Y,ge)=>{var B=ce(),re=J(B);yt(re,1,()=>(ee(n()),R(()=>n().images)),St,(oe,te)=>{ns(oe,{class:"carousel-peek",children:(he,we)=>{var H=ls();ke(()=>an(H,"src",I(te))),N(he,H)},$$slots:{default:!0}})}),N(Y,B)},$$slots:{default:!0}});var Z=ae(V,2);os(Z,{class:"carousel-nav-btn prev","aria-label":"Föregående bild"});var U=ae(Z,2);cs(U,{class:"carousel-nav-btn next","aria-label":"Nästa bild"}),N(A,k)},$$slots:{default:!0}}),K(w),N(x,w)},M=x=>{var w=ce(),C=J(w);{var A=q=>{var k=ds();N(q,k)};ne(C,q=>{s()&&q(A)},!0)}N(x,w)};ne(S,x=>{ee(n()),R(()=>n()?.images&&n().images.length>0)?x(P):x(M,!1)})}N(b,L)};ne(_,b=>{ee(o()),R(()=>o()?.id==="image-to-swedish"||o()?.id==="imageToNameFreetext")&&b(m)})}var p=ae(_,2);{var v=b=>{var L=ms();N(b,L)},u=b=>{var L=ce(),S=J(L);{var P=x=>{var w=gs(),C=ae(X(w)),A=X(C,!0);K(C),Le(),K(w),ke(()=>Xe(A,(ee(n()),R(()=>n()?.swedishName)))),N(x,w)},M=x=>{var w=ce(),C=J(w);{var A=q=>{var k=ps();N(q,k)};ne(C,q=>{ee(o()),R(()=>o()?.id==="imageToNameFreetext")&&q(A)},!0)}N(x,w)};ne(S,x=>{ee(o()),R(()=>o()?.id==="swedish-to-latin")?x(P):x(M,!1)},!0)}N(b,L)};ne(p,b=>{ee(o()),R(()=>o()?.id==="image-to-swedish")?b(v):b(u,!1)})}var g=ae(p,4);{var y=b=>{var L=hs();yt(L,5,i,St,(S,P)=>{Me(S,{type:"button",class:"mode-toggle answer-btn",onclick:()=>l(I(P)),children:(M,x)=>{Le();var w=Ze();ke(()=>Xe(w,I(P))),N(M,w)},$$slots:{default:!0}})}),K(L),N(b,L)},E=b=>{var L=ce(),S=J(L);{var P=M=>{var x=vs(),w=X(x);wt(w,{type:"text",placeholder:"Svenskt namn",required:!0,autocomplete:"off",class:"freetext-input swedish",get value(){return I(c)},set value(q){le(c,q)},$$legacy:!0});var C=ae(w,2);wt(C,{type:"text",placeholder:"Latinskt namn",required:!0,autocomplete:"off",class:"freetext-input",get value(){return I(a)},set value(q){le(a,q)},$$legacy:!0});var A=ae(C,2);Me(A,{type:"submit",class:"mode-toggle",style:"width:100%;",children:(q,k)=>{Le();var V=Ze("Svara");N(q,V)},$$slots:{default:!0}}),K(x),Nt("submit",x,dn(h)),N(M,x)};ne(S,M=>{ee(o()),R(()=>o()?.id==="imageToNameFreetext")&&M(P)},!0)}N(b,L)};ne(g,b=>{ee(o()),R(()=>o()?.id==="image-to-swedish"||o()?.id==="swedish-to-latin")?b(y):b(E,!1)})}K(d),N(e,d),me()}var ys=$('<div class="quiz-progress svelte-m2m21z"><div class="progress-label svelte-m2m21z"> </div> <!></div>');function Ss(e,t){let n=j(t,"current",8),i=j(t,"total",8);var o=ys(),s=X(o),r=X(s);K(s);var c=ae(s,2);cn(c,{get value(){return n()},get max(){return i()},"aria-label":"Quiz progress"}),K(o),ke(()=>Xe(r,`Fråga ${n()??""} av ${i()??""}`)),N(e,o)}const ws=()=>{const e=on;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},_s={subscribe(e){return ws().page.subscribe(e)}};var Ls=$('<div class="quiz-loading-overlay svelte-1nnq7wb"><div class="spinner svelte-1nnq7wb"></div> <div class="loading-text svelte-1nnq7wb">Laddar frågor<span class="dot one svelte-1nnq7wb">.</span><span class="dot two svelte-1nnq7wb">.</span><span class="dot three svelte-1nnq7wb">.</span></div></div>'),Ts=$('<div class="card-progress-bar svelte-1nnq7wb"><!></div> <!>',1),Ps=$('<div style="display: flex; justify-content: center; margin-top: 2em;" class="svelte-1nnq7wb"><!></div>'),Is=$('<p class="quiz-loading svelte-1nnq7wb">Inga frågor tillgängliga.</p>'),Ms=$('<main class="svelte-1nnq7wb"><!> <!></main>');function Bs(e,t){de(t,!1);const n=()=>rn($e,"$quiz",i),[i,o]=sn(),s=xe();let r=xe(!0),c=xe(void 0);function a(g){if(g.manualPhotos&&g.manualPhotos.length>0){const x=[...g.manualPhotos];for(let w=x.length-1;w>0;w--){const C=Math.floor(Math.random()*(w+1));[x[w],x[C]]=[x[C],x[w]]}return x.slice(0,4)}const y=g.taxonPhotos||[],E=g.observationPhotos||[],b=[...y];for(let x=b.length-1;x>0;x--){const w=Math.floor(Math.random()*(x+1));[b[x],b[w]]=[b[w],b[x]]}const L=[...E];for(let x=L.length-1;x>0;x--){const w=Math.floor(Math.random()*(x+1));[L[x],L[w]]=[L[w],L[x]]}let S=[],P=Math.min(2,b.length),M=Math.min(2,L.length);if(S=[...b.slice(0,P),...L.slice(0,M)],S.length<4){let x=b.slice(P),w=L.slice(M),C=[...x,...w];for(let A=0;A<C.length&&S.length<4;A++)S.includes(C[A])||S.push(C[A])}for(let x=S.length-1;x>0;x--){const w=Math.floor(Math.random()*(x+1));[S[x],S[w]]=[S[w],S[x]]}return S}async function l(g){const y=Je.find(L=>L.id===g)||Je[0];le(c,y),I(c).id,le(r,!0);let E=await fetch(Lt("/preprocessed/plants.json"));E.ok||(console.warn("Preprocessed data not found, falling back to original"),E=await fetch(Lt("/plants.json")));let b=await E.json();I(c)&&(I(c).id==="image-to-swedish"||I(c).id==="imageToNameFreetext")&&(b=b.map(L=>{const S=a(L);return{...L,images:S}})),I(c)&&$e.start(b,I(c)),le(r,!1)}Ct(()=>{const y=Ut(_s).url.searchParams.get("mode")||Je[0].id;return l(y),$e.subscribe(b=>{b.finished&&xt(_t("/result"))})});function h(g){$e.answer(g)}function f(g){return!I(s).questions.length||!I(c)?[]:I(c).getOptions(I(s).questions,g)}let d=xe(!1);Ye(()=>n(),()=>{le(s,n())}),Ye(()=>(I(r),I(c)),()=>{le(d,I(r)&&(I(c)?.id==="image-to-swedish"||I(c)?.id==="imageToNameFreetext"))}),At(),Et();var _=Ms(),m=X(_);Me(m,{onclick:()=>xt(_t("/")),class:"floating-home-btn","aria-label":"Hem",children:(g,y)=>{Le();var E=Ze("Hem");N(g,E)},$$slots:{default:!0}});var p=ae(m,2);{var v=g=>{var y=Ls();N(g,y)},u=g=>{var y=ce(),E=J(y);{var b=S=>{var P=Ps(),M=X(P);ln(M,{style:"max-width: 480px; width: 100%; min-height: 420px; box-shadow: 0 2px 16px #0001; position: relative; display: flex; flex-direction: column; justify-content: flex-start;",children:(x,w)=>{var C=Ts(),A=J(C),q=X(A);{let V=bt(()=>(I(s),R(()=>I(s).current+1)));Ss(q,{get current(){return I(V)},get total(){return I(s),R(()=>I(s).questions.length)}})}K(A);var k=ae(A,2);un(k,{children:(V,Z)=>{var U=ce(),Y=J(U);{var ge=B=>{{let re=bt(()=>(I(s),R(()=>f(I(s).current))));xs(B,{get question(){return I(s),R(()=>I(s).questions[I(s).current])},get options(){return I(re)},get mode(){return I(c)},get loadingImages(){return I(d)},$$events:{answer:oe=>h(oe.detail)}})}};ne(Y,B=>{I(c)&&B(ge)})}N(V,U)},$$slots:{default:!0}}),N(x,C)},$$slots:{default:!0}}),K(P),N(S,P)},L=S=>{var P=Is();N(S,P)};ne(E,S=>{I(s),R(()=>I(s).questions.length&&!I(s).finished)?S(b):S(L,!1)},!0)}N(g,y)};ne(p,g=>{I(r)?g(v):g(u,!1)})}K(_),N(e,_),me(),o()}export{Bs as component};
