import"../chunks/DsnmJJEf.js";import{i as be}from"../chunks/BBgIKqnF.js";import{p as we,f as w,Y as r,Z as g,a,b as ye,s as l,e as Q,m as W,g as e,c as d,r as i,n as ce,d as k,_ as ne,$ as Ve,t as b,a0 as te,y as Ae}from"../chunks/Chs2RoVq.js";import{o as De,s as m}from"../chunks/fzmXQIKY.js";import{p as _e,i as _,b as Ie,s as Se,a as Je}from"../chunks/DpnyLhaM.js";import{e as he,i as ge}from"../chunks/DdNKIFrO.js";import{s as ie}from"../chunks/2P4LWlzv.js";import{q as pe}from"../chunks/Bp0ftjfQ.js";import{g as Oe}from"../chunks/BmXHLY6R.js";import{B as Qe,r as We,C as Ye,a as Ze}from"../chunks/BLWJ74E7.js";var Ee=w('<canvas class="absolute left-1/2 top-0 -translate-x-1/2 pointer-events-none z-10 w-80 h-45 max-w-full max-h-[40vw]" width="320" height="180" aria-hidden="true"></canvas>'),Ge=w('<div class="text-xl text-success mt-5 font-bold tracking-wide animate-[var(--animate-pop)]">ðŸŽ‰ Perfekt! Alla rÃ¤tt! ðŸŽ‰</div> <!>',1),Ke=w('<div class="text-center mt-8 relative z-[1]"><h2 class="text-3xl mb-5">Resultat</h2> <div class="flex justify-center items-center mb-5 relative z-[2]"><svg width="120" height="120" viewBox="0 0 120 120"><circle class="opacity-40" cx="60" cy="60" r="52" stroke="rgb(229, 231, 235)" stroke-width="12" fill="none"></circle><circle class="-rotate-90 origin-center transition-[stroke-dashoffset] duration-1000 ease-[cubic-bezier(0.4,2,0.6,1)]" cx="60" cy="60" r="52" stroke="rgb(34, 197, 94)" stroke-width="12" fill="none" stroke-linecap="round"></circle><text x="60" y="68" text-anchor="middle" font-size="2.2em" fill="#222"> </text><text x="60" y="92" text-anchor="middle" font-size="1em" fill="#888"> </text></svg></div> <p>Du fick <b> </b> av <b> </b> rÃ¤tt!</p> <!></div>');function Le(se,Y){we(Y,!1);let f=_e(Y,"score",8),M=_e(Y,"total",8),re=W(!1),j=W(0),z=W(null);De(()=>{Q(j,Math.round(f()/M()*100)),f()===M()&&(Q(re,!0),setTimeout(()=>{e(z)&&v(e(z))},300))});function v(F){const h=F.getContext("2d");if(!h)return;const D=F.width=320,U=F.height=180,N=80,I=[],$=["#FFD700","#FF69B4","#00CFFF","#7CFC00","#FF6347","#FFB347"];for(let x=0;x<N;x++)I.push({x:Math.random()*D,y:Math.random()*U/2,r:4+Math.random()*4,c:$[Math.floor(Math.random()*$.length)],vx:-2+Math.random()*4,vy:2+Math.random()*3});let S=0;function P(){if(h){h.clearRect(0,0,D,U);for(const x of I)h.beginPath(),h.arc(x.x,x.y,x.r,0,2*Math.PI),h.fillStyle=x.c,h.fill(),x.x+=x.vx,x.y+=x.vy,x.vy+=.05;S++,S<60&&requestAnimationFrame(P)}}P()}be();var C=Ke(),Z=l(d(C),2),E=d(Z),H=l(d(E));ie(H,"stroke-dasharray",r(()=>2*Math.PI*52));var T=l(H),ae=d(T,!0);i(T);var G=l(T),le=d(G);i(G),i(E),i(Z);var K=l(Z,2),p=l(d(K)),V=d(p,!0);i(p);var A=l(p,2),t=d(A,!0);i(A),ce(),i(K);var L=l(K,2);{var oe=F=>{var h=Ge(),D=l(k(h),2);{var U=N=>{var I=Ee();Ie(I,$=>Q(z,$),()=>e(z)),a(N,I)};_(D,N=>{e(re)&&N(U)})}a(F,h)};_(L,F=>{f()===M()&&F(oe)})}i(C),g(()=>{ie(H,"stroke-dashoffset",(e(j),r(()=>2*Math.PI*52*(1-e(j)/100)))),m(ae,f()),m(le,`/ ${M()??""}`),m(V,f()),m(t,M())}),a(se,C),ye()}var Ue=w("Vad Ã¤r det latinska namnet fÃ¶r <span> </span>?",1),Xe=w('<img alt="VÃ¤xtbild" class="max-w-[120px] max-h-[140px] w-full h-[140px] object-cover rounded-lg shadow-sm bg-muted block"/>'),et=w('<div class="flex gap-4 my-2 flex-wrap justify-center"></div>'),tt=w("<div><b>Ditt svar:</b> <!></div>"),rt=w('<div class="flex items-center gap-2 mb-2 text-lg"><span class="text-2xl leading-none align-middle select-none"> </span> <b> </b></div> <div><b>FrÃ¥ga:</b> <!></div> <!> <!> <div><b>RÃ¤tt svar:</b> <!></div>',1),at=w('<li style="margin-bottom:1.5em;"><div class="w-full max-w-[420px] max-md:max-w-full"><!></div></li>'),ot=w('<ul style="width:100%;max-width:420px;padding:0;list-style:none;"></ul>'),it=w('<!> <main><div class="max-w-[420px] mx-auto bg-card rounded-[18px] shadow-lg p-10 flex flex-col items-center justify-center min-h-[60vh] max-md:p-4 max-md:min-h-[70vh]"><!> <hr class="w-full max-w-[420px] my-10 border-t-2 border-border"/> <!></div></main>',1);function _t(se,Y){we(Y,!1);const f=()=>Je(pe,"$quiz",M),[M,re]=Se(),j=W(),z=W(),v=W();function C(p){try{return JSON.parse(p)}catch{return null}}function Z(){pe.reset(),Oe(We("/"))}ne(()=>f(),()=>{Q(j,f().score)}),ne(()=>f(),()=>{Q(z,f().questions.length)}),ne(()=>f(),()=>{Q(v,f().mode)}),Ve(),be();var E=it(),H=k(E);Qe(H,{onclick:Z,class:"fixed bottom-8 left-8 z-50 rounded-full px-6 py-3 text-lg shadow-md bg-card text-foreground border border-border transition-all hover:bg-muted hover:shadow-lg max-md:bottom-4 max-md:left-4 max-md:px-5 max-md:py-2 max-md:text-base","aria-label":"Hem",children:(p,V)=>{ce();var A=b("Hem");a(p,A)},$$slots:{default:!0}});var T=l(H,2),ae=d(T),G=d(ae);Le(G,{get score(){return e(j)},get total(){return e(z)}});var le=l(G,4);{var K=p=>{var V=ot();he(V,5,()=>(f(),r(()=>f().answers)),ge,(A,t)=>{var L=at(),oe=d(L),F=d(oe);{let h=Ae(()=>(e(t),r(()=>e(t).correct?"border-2 border-success bg-success/10":"border-2 border-destructive bg-destructive/10")));Ye(F,{get class(){return e(h)},children:(D,U)=>{Ze(D,{children:(N,I)=>{var $=rt(),S=k($),P=d(S),x=d(P,!0);i(P);var me=l(P,2),Fe=d(me,!0);i(me),i(S);var ve=l(S,2),ke=l(d(ve),2);{var qe=o=>{var n=b("Vad Ã¤r det svenska namnet fÃ¶r vÃ¤xten pÃ¥ bilden?");a(o,n)},Me=o=>{var n=te(),R=k(n);{var B=s=>{var c=Ue(),J=l(k(c)),X=d(J,!0);i(J),ce(),g(()=>m(X,(e(t),r(()=>e(t).question.swedishName)))),a(s,c)},q=s=>{var c=te(),J=k(c);{var X=u=>{var y=b("Vad heter vÃ¤xten pÃ¥ bilderna? (Svenska och latin)");a(u,y)},de=u=>{var y=b();g(()=>m(y,`${e(t),r(()=>e(t).question.swedishName)??""} (${e(t),r(()=>e(t).question.latinName)??""})`)),a(u,y)};_(J,u=>{e(v),r(()=>e(v).id==="imageToNameFreetext")?u(X):u(de,!1)},!0)}a(s,c)};_(R,s=>{e(v),r(()=>e(v).id==="swedish-to-latin")?s(B):s(q,!1)},!0)}a(o,n)};_(ke,o=>{e(v),r(()=>e(v).id==="image-to-swedish")?o(qe):o(Me,!1)})}i(ve);var fe=l(ve,2);{var ze=o=>{var n=et();he(n,5,()=>(e(t),r(()=>e(t).question.images)),ge,(R,B)=>{var q=Xe();g(()=>ie(q,"src",e(B))),a(R,q)}),i(n),a(o,n)};_(fe,o=>{e(v),e(t),r(()=>(e(v).id==="image-to-swedish"||e(v).id==="imageToNameFreetext")&&e(t).question.images&&e(t).question.images.length)&&o(ze)})}var xe=l(fe,2);{var Ce=o=>{var n=tt(),R=l(d(n),2);{var B=s=>{var c=te(),J=k(c);{var X=u=>{var y=te(),Re=k(y);{var Be=O=>{var ee=b();g((He,Te)=>m(ee,`${He??""} / ${Te??""}`),[()=>(e(t),r(()=>C(e(t).answer)?.swedish)),()=>(e(t),r(()=>C(e(t).answer)?.latin))]),a(O,ee)},je=O=>{var ee=b();g(()=>m(ee,(e(t),r(()=>e(t).answer)))),a(O,ee)};_(Re,O=>{e(t),r(()=>C(e(t).answer))?O(Be):O(je,!1)})}a(u,y)},de=u=>{var y=b();g(()=>m(y,(e(t),r(()=>e(t).answer)))),a(u,y)};_(J,u=>{e(t),r(()=>e(t).answer)?u(X):u(de,!1)})}a(s,c)},q=s=>{var c=b();g(()=>m(c,(e(t),r(()=>e(t).answer)))),a(s,c)};_(R,s=>{e(v),r(()=>e(v).id==="imageToNameFreetext")?s(B):s(q,!1)})}i(n),a(o,n)};_(xe,o=>{e(t),r(()=>!e(t).correct)&&o(Ce)})}var ue=l(xe,2),Ne=l(d(ue),2);{var $e=o=>{var n=b();g(()=>m(n,(e(t),r(()=>e(t).question.swedishName)))),a(o,n)},Pe=o=>{var n=te(),R=k(n);{var B=s=>{var c=b();g(()=>m(c,(e(t),r(()=>e(t).question.latinName)))),a(s,c)},q=s=>{var c=b();g(()=>m(c,`${e(t),r(()=>e(t).question.swedishName)??""} / ${e(t),r(()=>e(t).question.latinName)??""}`)),a(s,c)};_(R,s=>{e(v),r(()=>e(v).id==="swedish-to-latin")?s(B):s(q,!1)},!0)}a(o,n)};_(Ne,o=>{e(v),r(()=>e(v).id==="image-to-swedish")?o($e):o(Pe,!1)})}i(ue),g(()=>{ie(P,"aria-label",(e(t),r(()=>e(t).correct?"RÃ¤tt":"Fel"))),m(x,(e(t),r(()=>e(t).correct?"âœ”":"âŒ"))),m(Fe,(e(t),r(()=>e(t).correct?"RÃ¤tt":"Fel")))}),a(N,$)},$$slots:{default:!0}})},$$slots:{default:!0}})}i(oe),i(L),a(A,L)}),i(V),a(p,V)};_(le,p=>{e(v)&&p(K)})}i(ae),i(T),a(se,E),ye(),re()}export{_t as component};
