import"../chunks/DsnmJJEf.js";import{i as J}from"../chunks/s4CSQMkU.js";import{o as K,s as L}from"../chunks/Z9sIMUL2.js";import{p as O,f as _,a as s,b as R,s as m,m as C,c as b,d as z,n as v,t as p,e as l,g as F,h as o,i as S,r as g}from"../chunks/Bw5Y5IGr.js";import{C as U,r as G,a as X,e as Y,B as q,i as Z}from"../chunks/DMHIjXU5.js";import{b as ee}from"../chunks/0tY7R5CY.js";import{g as te}from"../chunks/TzQoW9ek.js";import{C as ae,a as se,b as oe}from"../chunks/BFvV6EzI.js";var re=_("<!> <!>",1),le=_("<option> </option>"),ne=_('<div class="mb-2"><label for="week-select" class="block text-sm font-medium mb-1 ml-1 text-muted-foreground">Välj vecka</label> <select id="week-select" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"><option>Nuvarande vecka</option><!></select></div> <!> <!> <!>',1),ie=_("<!> <!>",1),de=_('<main class="flex flex-col items-center min-h-screen pt-8 sm:pt-16 md:pt-24"><!></main>');function xe(T,W){O(W,!1);let $=C("swedish-to-latin"),h=C([]),x=C("plants.json");K(async()=>{try{const a=await fetch(G("/api/quiz-files"));if(a.ok){const c=await a.json();m(h,c.files||[])}}catch(a){console.error("Failed to load week files",a)}});function k(){te(`${G("/quiz")}?mode=${o($)}&week=${o(x)}`)}function M(a){if(a==="plants.json")return"Nuvarande vecka";const c=a.match(/plants_week(\d+)\.json/);return c?`Vecka ${c[1]}`:a}J();var w=de(),Q=b(w);U(Q,{class:"w-full max-w-md",children:(a,c)=>{var y=ie(),N=z(y);ae(N,{children:(P,D)=>{var f=re(),n=z(f);se(n,{class:"text-3xl font-bold text-center",children:(r,j)=>{v();var i=p("Växtquiz");s(r,i)},$$slots:{default:!0}});var u=l(n,2);oe(u,{class:"text-lg text-center",children:(r,j)=>{v();var i=p("Välkommen till växtquizet! Testa dina kunskaper om växter.");s(r,i)},$$slots:{default:!0}}),s(P,f)},$$slots:{default:!0}});var A=l(N,2);X(A,{class:"flex flex-col gap-3",children:(P,D)=>{var f=ne(),n=z(f),u=l(b(n),2);F(()=>{o(x),S(()=>{o(h)})});var r=b(u);r.value=r.__value="plants.json";var j=l(r);Y(j,1,()=>o(h).filter(e=>e!=="plants.json"),Z,(e,d)=>{var t=le(),H=b(t,!0);g(t);var B={};F(I=>{L(H,I),B!==(B=o(d))&&(t.value=(t.__value=o(d))??"")},[()=>M(o(d))]),s(e,t)}),g(u),g(n);var i=l(n,2);q(i,{variant:"default",onclick:()=>{m($,"swedish-to-latin"),k()},class:"w-full",children:(e,d)=>{v();var t=p("Gissa latinskt namn");s(e,t)},$$slots:{default:!0}});var V=l(i,2);q(V,{variant:"default",onclick:()=>{m($,"image-to-swedish"),k()},class:"w-full",children:(e,d)=>{v();var t=p("Gissa svenskt namn från bild");s(e,t)},$$slots:{default:!0}});var E=l(V,2);q(E,{variant:"default",onclick:()=>{m($,"imageToNameFreetext"),k()},class:"w-full",children:(e,d)=>{v();var t=p("Bild till namn (fritext)");s(e,t)},$$slots:{default:!0}}),ee(u,()=>o(x),e=>m(x,e)),s(P,f)},$$slots:{default:!0}}),s(a,y)},$$slots:{default:!0}}),g(w),s(T,w),R()}export{xe as component};
