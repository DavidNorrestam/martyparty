import{q as V,h as S,u as ae,v as K,w as ne,x as se,o as X,y as ie,z as fe,H as le,A as y,B as Y,C as H,D as te,E as ue,F as P,G as oe,I as de,J as W,K as ve,m as ce,M as G,O as J,P as Z,Q as _e,R as O,S as B,T as $,U as L,V as he,W as me,X as we,Y as pe,Z as Ee,_ as Te,$ as k,a0 as Ae,a1 as Ie}from"./DQtdBllr.js";import{w as Me}from"./snUUg2rQ.js";function De(t,a){return a}function Ne(t,a,e){for(var i=t.items,s=[],o=a.length,f=0;f<o;f++)we(a[f].e,s,!0);var v=o>0&&s.length===0&&e!==null;if(v){var E=e.parentNode;pe(E),E.append(e),i.clear(),M(t,a[0].prev,a[o-1].next)}Ee(s,()=>{for(var m=0;m<o;m++){var c=a[m];v||(i.delete(c.k),M(t,c.prev,c.next)),$(c.e,!v)}})}function Re(t,a,e,i,s,o=null){var f=t,v={flags:a,items:new Map,first:null},E=(a&k)!==0;if(E){var m=t;f=S?V(ae(m)):m.appendChild(K())}S&&ne();var c=null,x=!1,T=new Map,C=ie(()=>{var _=e();return ve(_)?_:_==null?[]:W(_)}),n,d;function u(){xe(d,n,v,T,f,s,a,i,e),o!==null&&(n.length===0?c?Z(c):c=P(()=>o(f)):c!==null&&_e(c,()=>{c=null}))}se(()=>{d??=Te,n=X(C);var _=n.length;if(x&&_===0)return;x=_===0;let p=!1;if(S){var A=fe(f)===le;A!==(_===0)&&(f=y(),V(f),Y(!1),p=!0)}if(S){for(var N=null,h,r=0;r<_;r++){if(H.nodeType===te&&H.data===ue){f=H,p=!0,Y(!1);break}var l=n[r],w=i(l,r);h=Q(H,v,N,null,l,w,r,s,a,e),v.items.set(w,h),N=h}_>0&&V(y())}if(S)_===0&&o&&(c=P(()=>o(f)));else if(oe()){var D=new Set,b=de;for(r=0;r<_;r+=1){l=n[r],w=i(l,r);var q=v.items.get(w)??T.get(w);q?(a&(L|O))!==0&&j(q,l,r,a):(h=Q(null,v,null,null,l,w,r,s,a,e,!0),T.set(w,h)),D.add(w)}for(const[I,g]of v.items)D.has(I)||b.skipped_effects.add(g.e);b.add_callback(u)}else u();p&&Y(!0),X(C)}),S&&(f=H)}function xe(t,a,e,i,s,o,f,v,E){var m=(f&Ie)!==0,c=(f&(L|O))!==0,x=a.length,T=e.items,C=e.first,n=C,d,u=null,_,p=[],A=[],N,h,r,l;if(m)for(l=0;l<x;l+=1)N=a[l],h=v(N,l),r=T.get(h),r!==void 0&&(r.a?.measure(),(_??=new Set).add(r));for(l=0;l<x;l+=1){if(N=a[l],h=v(N,l),r=T.get(h),r===void 0){var w=i.get(h);if(w!==void 0){i.delete(h),T.set(h,w);var D=u?u.next:n;M(e,u,w),M(e,w,D),F(w,D,s),u=w}else{var b=n?n.e.nodes_start:s;u=Q(b,e,u,u===null?e.first:u.next,N,h,l,o,f,E)}T.set(h,u),p=[],A=[],n=u.next;continue}if(c&&j(r,N,l,f),(r.e.f&B)!==0&&(Z(r.e),m&&(r.a?.unfix(),(_??=new Set).delete(r))),r!==n){if(d!==void 0&&d.has(r)){if(p.length<A.length){var q=A[0],I;u=q.prev;var g=p[0],z=p[p.length-1];for(I=0;I<p.length;I+=1)F(p[I],q,s);for(I=0;I<A.length;I+=1)d.delete(A[I]);M(e,g.prev,z.next),M(e,u,g),M(e,z,q),n=q,u=z,l-=1,p=[],A=[]}else d.delete(r),F(r,n,s),M(e,r.prev,r.next),M(e,r,u===null?e.first:u.next),M(e,u,r),u=r;continue}for(p=[],A=[];n!==null&&n.k!==h;)(n.e.f&B)===0&&(d??=new Set).add(n),A.push(n),n=n.next;if(n===null)continue;r=n}p.push(r),u=r,n=r.next}if(n!==null||d!==void 0){for(var R=d===void 0?[]:W(d);n!==null;)(n.e.f&B)===0&&R.push(n),n=n.next;var U=R.length;if(U>0){var ee=(f&k)!==0&&x===0?s:null;if(m){for(l=0;l<U;l+=1)R[l].a?.measure();for(l=0;l<U;l+=1)R[l].a?.fix()}Ne(e,R,ee)}}m&&Ae(()=>{if(_!==void 0)for(r of _)r.a?.apply()}),t.first=e.first&&e.first.e,t.last=u&&u.e;for(var re of i.values())$(re.e);i.clear()}function j(t,a,e,i){(i&L)!==0&&J(t.v,a),(i&O)!==0?J(t.i,e):t.i=e}function Q(t,a,e,i,s,o,f,v,E,m,c){var x=(E&L)!==0,T=(E&he)===0,C=x?T?ce(s,!1,!1):G(s):s,n=(E&O)===0?f:G(f),d={i:n,v:C,k:o,a:null,e:null,prev:e,next:i};try{if(t===null){var u=document.createDocumentFragment();u.append(t=K())}return d.e=P(()=>v(t,C,n,m),S),d.e.prev=e&&e.e,d.e.next=i&&i.e,e===null?c||(a.first=d):(e.next=d,e.e.next=d.e),i!==null&&(i.prev=d,i.e.prev=d.e),d}finally{}}function F(t,a,e){for(var i=t.next?t.next.e.nodes_start:e,s=a?a.e.nodes_start:e,o=t.e.nodes_start;o!==null&&o!==i;){var f=me(o);s.before(o),o=f}}function M(t,a,e){a===null?t.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function Ce(){const{subscribe:t,set:a,update:e}=Me({questions:[],current:0,score:0,answers:[],finished:!1});return{subscribe:t,start:(i,s,o)=>a({questions:i,current:0,score:0,answers:[],finished:!1,images:s||[],mode:o}),answer:i=>e(s=>{let o="latin";try{typeof window<"u"&&new URL(window.location.href).searchParams.get("mode")==="image-to-swedish"&&(o="image-to-swedish")}catch{}let f=!1;o==="image-to-swedish"?f=s.questions[s.current].swedishName===i:f=s.questions[s.current].latinName===i;const v=s.score+(f?1:0),E=[...s.answers,i],m=s.current+1>=s.questions.length;return{...s,current:s.current+1,score:v,answers:E,finished:m}}),reset:()=>a({questions:[],current:0,score:0,answers:[],finished:!1,images:[],mode:void 0})}}const He=Ce();export{Re as e,De as i,He as q};
