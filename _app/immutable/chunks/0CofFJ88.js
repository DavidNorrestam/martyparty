import{j as V,h as S,k as ae,l as K,n as ne,o as se,i as Y,q as ie,t as fe,H as le,u as y,v as B,w as H,C as te,x as ue,y as Q,z as oe,A as de,B as W,D as ve,m as ce,E as G,F as J,G as Z,I as he,J as O,K as F,M as $,O as L,P as _e,Q as me,R as we,S as pe,T as Ee,U as Te,V as k,W as Ae,X as Ie}from"./DGZfWm4y.js";import{w as Me}from"./Cbq7BViZ.js";function De(t,a){return a}function Ne(t,a,e){for(var i=t.items,s=[],o=a.length,f=0;f<o;f++)we(a[f].e,s,!0);var v=o>0&&s.length===0&&e!==null;if(v){var E=e.parentNode;pe(E),E.append(e),i.clear(),M(t,a[0].prev,a[o-1].next)}Ee(s,()=>{for(var m=0;m<o;m++){var c=a[m];v||(i.delete(c.k),M(t,c.prev,c.next)),$(c.e,!v)}})}function Re(t,a,e,i,s,o=null){var f=t,v={flags:a,items:new Map,first:null},E=(a&k)!==0;if(E){var m=t;f=S?V(ae(m)):m.appendChild(K())}S&&ne();var c=null,x=!1,T=new Map,C=ie(()=>{var h=e();return ve(h)?h:h==null?[]:W(h)}),n,d;function u(){xe(d,n,v,T,f,s,a,i,e),o!==null&&(n.length===0?c?Z(c):c=Q(()=>o(f)):c!==null&&he(c,()=>{c=null}))}se(()=>{d??=Te,n=Y(C);var h=n.length;if(x&&h===0)return;x=h===0;let p=!1;if(S){var A=fe(f)===le;A!==(h===0)&&(f=y(),V(f),B(!1),p=!0)}if(S){for(var N=null,_,r=0;r<h;r++){if(H.nodeType===te&&H.data===ue){f=H,p=!0,B(!1);break}var l=n[r],w=i(l,r);_=X(H,v,N,null,l,w,r,s,a,e),v.items.set(w,_),N=_}h>0&&V(y())}if(S)h===0&&o&&(c=Q(()=>o(f)));else if(oe()){var D=new Set,b=de;for(r=0;r<h;r+=1){l=n[r],w=i(l,r);var q=v.items.get(w)??T.get(w);q?(a&(L|O))!==0&&j(q,l,r,a):(_=X(null,v,null,null,l,w,r,s,a,e,!0),T.set(w,_)),D.add(w)}for(const[I,g]of v.items)D.has(I)||b.skipped_effects.add(g.e);b.add_callback(u)}else u();p&&B(!0),Y(C)}),S&&(f=H)}function xe(t,a,e,i,s,o,f,v,E){var m=(f&Ie)!==0,c=(f&(L|O))!==0,x=a.length,T=e.items,C=e.first,n=C,d,u=null,h,p=[],A=[],N,_,r,l;if(m)for(l=0;l<x;l+=1)N=a[l],_=v(N,l),r=T.get(_),r!==void 0&&(r.a?.measure(),(h??=new Set).add(r));for(l=0;l<x;l+=1){if(N=a[l],_=v(N,l),r=T.get(_),r===void 0){var w=i.get(_);if(w!==void 0){i.delete(_),T.set(_,w);var D=u?u.next:n;M(e,u,w),M(e,w,D),P(w,D,s),u=w}else{var b=n?n.e.nodes_start:s;u=X(b,e,u,u===null?e.first:u.next,N,_,l,o,f,E)}T.set(_,u),p=[],A=[],n=u.next;continue}if(c&&j(r,N,l,f),(r.e.f&F)!==0&&(Z(r.e),m&&(r.a?.unfix(),(h??=new Set).delete(r))),r!==n){if(d!==void 0&&d.has(r)){if(p.length<A.length){var q=A[0],I;u=q.prev;var g=p[0],z=p[p.length-1];for(I=0;I<p.length;I+=1)P(p[I],q,s);for(I=0;I<A.length;I+=1)d.delete(A[I]);M(e,g.prev,z.next),M(e,u,g),M(e,z,q),n=q,u=z,l-=1,p=[],A=[]}else d.delete(r),P(r,n,s),M(e,r.prev,r.next),M(e,r,u===null?e.first:u.next),M(e,u,r),u=r;continue}for(p=[],A=[];n!==null&&n.k!==_;)(n.e.f&F)===0&&(d??=new Set).add(n),A.push(n),n=n.next;if(n===null)continue;r=n}p.push(r),u=r,n=r.next}if(n!==null||d!==void 0){for(var R=d===void 0?[]:W(d);n!==null;)(n.e.f&F)===0&&R.push(n),n=n.next;var U=R.length;if(U>0){var ee=(f&k)!==0&&x===0?s:null;if(m){for(l=0;l<U;l+=1)R[l].a?.measure();for(l=0;l<U;l+=1)R[l].a?.fix()}Ne(e,R,ee)}}m&&Ae(()=>{if(h!==void 0)for(r of h)r.a?.apply()}),t.first=e.first&&e.first.e,t.last=u&&u.e;for(var re of i.values())$(re.e);i.clear()}function j(t,a,e,i){(i&L)!==0&&J(t.v,a),(i&O)!==0?J(t.i,e):t.i=e}function X(t,a,e,i,s,o,f,v,E,m,c){var x=(E&L)!==0,T=(E&_e)===0,C=x?T?ce(s,!1,!1):G(s):s,n=(E&O)===0?f:G(f),d={i:n,v:C,k:o,a:null,e:null,prev:e,next:i};try{if(t===null){var u=document.createDocumentFragment();u.append(t=K())}return d.e=Q(()=>v(t,C,n,m),S),d.e.prev=e&&e.e,d.e.next=i&&i.e,e===null?c||(a.first=d):(e.next=d,e.e.next=d.e),i!==null&&(i.prev=d,i.e.prev=d.e),d}finally{}}function P(t,a,e){for(var i=t.next?t.next.e.nodes_start:e,s=a?a.e.nodes_start:e,o=t.e.nodes_start;o!==null&&o!==i;){var f=me(o);s.before(o),o=f}}function M(t,a,e){a===null?t.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function Ce(){const{subscribe:t,set:a,update:e}=Me({questions:[],current:0,score:0,answers:[],finished:!1});return{subscribe:t,start:(i,s,o)=>a({questions:i,current:0,score:0,answers:[],finished:!1,images:s||[],mode:o}),answer:i=>e(s=>{let o="latin";try{typeof window<"u"&&new URL(window.location.href).searchParams.get("mode")==="image-to-swedish"&&(o="image-to-swedish")}catch{}let f=!1;o==="image-to-swedish"?f=s.questions[s.current].swedishName===i:f=s.questions[s.current].latinName===i;const v=s.score+(f?1:0),E=[...s.answers,i],m=s.current+1>=s.questions.length;return{...s,current:s.current+1,score:v,answers:E,finished:m}}),reset:()=>a({questions:[],current:0,score:0,answers:[],finished:!1,images:[],mode:void 0})}}const He=Ce();export{Re as e,De as i,He as q};
