import{k as Y,h as S,l as ne,n as W,o as ae,t as se,j as G,u as ie,v as fe,H as ue,w as J,x as g,y as R,C as te,z as le,A as U,B as ve,D as oe,E as Z,F as de,m as ce,G as K,I as P,J as k,K as _e,M as L,O as B,P as $,Q,R as he,S as me,T as pe,U as Ee,V as we,W as Ae,X as y,Y as Te,Z as Ie}from"./zngdAFSY.js";import{w as xe}from"./DkkBxieF.js";function De(t,n){return n}function Ce(t,n,e){for(var i=t.items,a=[],v=n.length,u=0;u<v;u++)pe(n[u].e,a,!0);var d=v>0&&a.length===0&&e!==null;if(d){var w=e.parentNode;Ee(w),w.append(e),i.clear(),x(t,n[0].prev,n[v-1].next)}we(a,()=>{for(var m=0;m<v;m++){var _=n[m];d||(i.delete(_.k),x(t,_.prev,_.next)),$(_.e,!d)}})}function He(t,n,e,i,a,v=null){var u=t,d={flags:n,items:new Map,first:null},w=(n&y)!==0;if(w){var m=t;u=S?Y(ne(m)):m.appendChild(W())}S&&ae();var _=null,q=!1,A=new Map,M=ie(()=>{var c=e();return de(c)?c:c==null?[]:Z(c)}),s,o;function l(){qe(o,s,d,A,u,a,n,i,e),v!==null&&(s.length===0?_?k(_):_=U(()=>v(u)):_!==null&&_e(_,()=>{_=null}))}se(()=>{o??=Ae,s=G(M);var c=s.length;if(q&&c===0)return;q=c===0;let E=!1;if(S){var T=fe(u)===ue;T!==(c===0)&&(u=J(),Y(u),g(!1),E=!0)}if(S){for(var C=null,h,r=0;r<c;r++){if(R.nodeType===te&&R.data===le){u=R,E=!0,g(!1);break}var f=s[r],p=i(f,r);h=X(R,d,C,null,f,p,r,a,n,e),d.items.set(p,h),C=h}c>0&&Y(J())}if(S)c===0&&v&&(_=U(()=>v(u)));else if(ve()){var D=new Set,b=oe;for(r=0;r<c;r+=1){f=s[r],p=i(f,r);var N=d.items.get(p)??A.get(p);N?(n&(Q|L))!==0&&j(N,f,r,n):(h=X(null,d,null,null,f,p,r,a,n,e,!0),A.set(p,h)),D.add(p)}for(const[I,O]of d.items)D.has(I)||b.skipped_effects.add(O.e);b.add_callback(l)}else l();E&&g(!0),G(M)}),S&&(u=R)}function qe(t,n,e,i,a,v,u,d,w){var m=(u&Ie)!==0,_=(u&(Q|L))!==0,q=n.length,A=e.items,M=e.first,s=M,o,l=null,c,E=[],T=[],C,h,r,f;if(m)for(f=0;f<q;f+=1)C=n[f],h=d(C,f),r=A.get(h),r!==void 0&&(r.a?.measure(),(c??=new Set).add(r));for(f=0;f<q;f+=1){if(C=n[f],h=d(C,f),r=A.get(h),r===void 0){var p=i.get(h);if(p!==void 0){i.delete(h),A.set(h,p);var D=l?l.next:s;x(e,l,p),x(e,p,D),F(p,D,a),l=p}else{var b=s?s.e.nodes_start:a;l=X(b,e,l,l===null?e.first:l.next,C,h,f,v,u,w)}A.set(h,l),E=[],T=[],s=l.next;continue}if(_&&j(r,C,f,u),(r.e.f&B)!==0&&(k(r.e),m&&(r.a?.unfix(),(c??=new Set).delete(r))),r!==s){if(o!==void 0&&o.has(r)){if(E.length<T.length){var N=T[0],I;l=N.prev;var O=E[0],z=E[E.length-1];for(I=0;I<E.length;I+=1)F(E[I],N,a);for(I=0;I<T.length;I+=1)o.delete(T[I]);x(e,O.prev,z.next),x(e,l,O),x(e,z,N),s=N,l=z,f-=1,E=[],T=[]}else o.delete(r),F(r,s,a),x(e,r.prev,r.next),x(e,r,l===null?e.first:l.next),x(e,l,r),l=r;continue}for(E=[],T=[];s!==null&&s.k!==h;)(s.e.f&B)===0&&(o??=new Set).add(s),T.push(s),s=s.next;if(s===null)continue;r=s}E.push(r),l=r,s=r.next}if(s!==null||o!==void 0){for(var H=o===void 0?[]:Z(o);s!==null;)(s.e.f&B)===0&&H.push(s),s=s.next;var V=H.length;if(V>0){var ee=(u&y)!==0&&q===0?a:null;if(m){for(f=0;f<V;f+=1)H[f].a?.measure();for(f=0;f<V;f+=1)H[f].a?.fix()}Ce(e,H,ee)}}m&&Te(()=>{if(c!==void 0)for(r of c)r.a?.apply()}),t.first=e.first&&e.first.e,t.last=l&&l.e;for(var re of i.values())$(re.e);i.clear()}function j(t,n,e,i){(i&Q)!==0&&P(t.v,n),(i&L)!==0?P(t.i,e):t.i=e}function X(t,n,e,i,a,v,u,d,w,m,_){var q=(w&Q)!==0,A=(w&he)===0,M=q?A?ce(a,!1,!1):K(a):a,s=(w&L)===0?u:K(u),o={i:s,v:M,k:v,a:null,e:null,prev:e,next:i};try{if(t===null){var l=document.createDocumentFragment();l.append(t=W())}return o.e=U(()=>d(t,M,s,m),S),o.e.prev=e&&e.e,o.e.next=i&&i.e,e===null?_||(n.first=o):(e.next=o,e.e.next=o.e),i!==null&&(i.prev=o,i.e.prev=o.e),o}finally{}}function F(t,n,e){for(var i=t.next?t.next.e.nodes_start:e,a=n?n.e.nodes_start:e,v=t.e.nodes_start;v!==null&&v!==i;){var u=me(v);a.before(v),v=u}}function x(t,n,e){n===null?t.first=e:(n.next=e,n.e.next=e&&e.e),e!==null&&(e.prev=n,e.e.prev=n&&n.e)}function Me(){const{subscribe:t,set:n,update:e}=xe({questions:[],current:0,score:0,answers:[],finished:!1,mode:void 0});return{subscribe:t,start:(i,a)=>{const v=a.generateQuestions(i);n({questions:v,current:0,score:0,answers:[],finished:!1,mode:a})},answer:i=>e(a=>{if(!a.mode)return a;const v=a.questions[a.current],u=a.mode.checkAnswer(v,i),d=a.score+(u?1:0),w=[...a.answers,{answer:i,correct:u,question:v}],m=a.current+1>=a.questions.length;return{...a,current:a.current+1,score:d,answers:w,finished:m}}),reset:()=>n({questions:[],current:0,score:0,answers:[],finished:!1,mode:void 0})}}const Re=Me();export{He as e,De as i,Re as q};
